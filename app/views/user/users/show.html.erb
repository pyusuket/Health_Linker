<div class="container mx-auto p-4">
  <div class="flex items-center mb-8">
    <% if @user.profile_image.present? %>
      <%= image_tag @user.profile_image, class: "w-24 h-24 rounded-full" %>
    <% else %>
      <%= image_tag "no_image.jpg", class: "w-24 h-24 rounded-full" %>
    <% end %>
    <div class="w-3/4 pl-4">
      <h1 class="text-2xl font-semibold mb-2"><%= link_to @user.user_name, user_posts_path(@user) %></h1>
      <% if current_user && current_user != @user %>
        <% if current_user.following?(@user) %>
          <%= link_to "フォロー外す", user_user_follow_path(@user), method: :delete, class: "bg-slate-100 hover:bg-neutral-400 text-bg font-bold py-2 px-4 rounded ml-5" %>
        <% else %>
          <%= link_to "フォローする", user_user_follow_path(@user), method: :post, class: "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-5" %>
        <% end %>
      <% end %>
      <%= link_to "プロフィール編集", edit_user_user_path(@user), class: "text-blue-500 hover:underline" %>
      <div class="flex items-center mt-4">
        <span class="mr-4 font-bold">投稿数 : <%= @user.posts.count %> 件</span>
        <span class="mr-4 font-bold"> <%= link_to "フォロワー :#{ @user.followers.count } 人", user_user_followers_path(@user) %></span>
        <span class="mr-4 font-bold"> <%= link_to "フォロー中 :#{ @user.followings.count } 人", user_user_followings_path(@user) %></span>
      </div>
    </div>
  </div>
    <div class="grid gap-x-4 gap-y-8 sm:grid-cols-2 md:gap-x-6 lg:grid-cols-3 xl:grid-cols-4">
      <div>
        <% @posts.each do |post| %> 
        <a href="#" class="group relative mb-2 block h-96 overflow-hidden rounded-lg bg-gray-100 shadow-lg lg:mb-3">
          <%= image_tag(post.image) %>
        </a>
        <div class="flex items-start justify-between gap-2 px-2">
          <div class="flex flex-col">
            <a href="#" class="text-lg font-bold text-gray-800 transition duration-100 hover:text-gray-500 lg:text-xl"><%= post.body %></a>
            <p class="text-sm text-gray-600 mt-1">いいね：<%#= post.nices_count %> 件</p>
          </div>
        </div>
        <% end %>
      </div>
    </div>
</div>