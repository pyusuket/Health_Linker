<!DOCTYPE html>
<html>
  <head>
    <title>HealthLinker</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>  
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/51a709218e.js" crossorigin="anonymous"></script>
  </head>

 <body class="bg-white">
  <!-- メニューバー -->
  <div class="md:hidden fixed top-0 left-0 z-50 w-full bg-gray-800 shadow">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <img class="h-8 w-8" src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500" alt="Your Company">
          <span class="text-white font-semibold text-xl ml-2">Your Company</span>
        </div>
        <div class="flex items-center">
          <button type="button" class="text-gray-400 hover:text-white focus:outline-none focus:text-white focus:bg-gray-700 p-2 rounded-md">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
<body class="bg-gray-100">
  <!-- メニューバー -->
  <div class="md:hidden fixed top-0 left-0 z-50 w-full bg-gray-800 shadow">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <img class="h-8 w-8" src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500" alt="Your Company">
          <span class="text-white font-semibold text-xl ml-2">Your Company</span>
        </div>
        <div class="flex items-center">
          <button type="button" class="text-gray-400 hover:text-white focus:outline-none focus:text-white focus:bg-gray-700 p-2 rounded-md" id="menu-toggle">
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- サイドバー -->
  <div class="md:flex md:flex-col md:h-full md:w-64 md:fixed md:left-0 md:top-0 md:justify-between bg-gray-800 hidden" id="sidebar">
    <div class="p-4">
      <div class="flex items-center mb-6">
        <img class="h-8 w-8" src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500" alt="Your Company">
        <span class="text-white font-semibold text-xl ml-2">Your Company</span>
      </div>
      <ul class="space-y-2">
        <li><%= link_to "投稿一覧", user_posts_path, class:"text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-sm font-medium"%></li>
        <% if user_signed_in? %>
          <li><%= link_to "マイページ", user_users_path(current_user), class:"text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-sm font-medium"%></li>
          <li><%= link_to "いいね一覧", user_post_nices_path(current_user), class:"text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-sm font-medium"%></li>
          <li><%= link_to "ログアウト", destroy_user_session_path, method: :delete, class:"text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-sm font-medium"%></li>
        <% else %>
          <li><%= link_to "新規登録", new_user_registration_path, class:"text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-sm font-medium"%></li>
          <li><%= link_to "ログイン", new_user_session_path, class:"text-gray-300 hover:bg-gray-700 hover:text-white block rounded-md px-3 py-2 text-sm font-medium" %></li>
        <% end %>
      </ul>
    </div>
    <div class="flex justify-center py-4">
      <img class="h-8 w-8" src="<%= @user_current && @user_current.profile_image.present? ? @user_current.profile_image : 'no_image.jpg' %>" alt="User Profile">
    </div>
  </div>
  <!-- メインコンテンツ -->
  <main class="md:ml-64 p-4 mt-20 ">
    <%= yield %>
  </main>

  <script>
    document.getElementById('menu-toggle').addEventListener('click', function () {
      document.getElementById('sidebar').classList.toggle('hidden');
    });
  </script>
</body>
</html>